
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Battery Models &#8212; Dr.Hadi Sadoghi Yazdi</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Circuit_Electronics/StudentEffort/batteryModel/battery_model';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Sensitivity analysis" href="../Sensitivity_analysis1.html" />
    <link rel="prev" title="Linear approximation" href="../Linearization/LinearizationProject.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../Introduction_CircuitElectronics.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/Hadi_Sadoghi_Yazdi.png" class="logo__image only-light" alt="Dr.Hadi Sadoghi Yazdi - Home"/>
    <img src="../../../_static/Hadi_Sadoghi_Yazdi.png" class="logo__image only-dark pst-js-only" alt="Dr.Hadi Sadoghi Yazdi - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../Introduction_CircuitElectronics.html">
                    Introduction to Circuit and Electronics
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Sections of Circuit and Electronics course</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../BasicElements.html">Basic component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../KVL_KCL.html">Voltage , Current</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../NodalMeshAnalysis.html">Basic Nodal and Mesh Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RC_RL_RLC.html">R-C, R-L circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Diode_chapter.html">Diode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DiodeApplication.html">Diode Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BJT1.html">Bipolar junction transistor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../FET.html">Field Effect Transistor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../OpAmp.html">Operational Amplifier</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Teaching assistant</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../PySpice_Installation_Manual.html">PySpice Installation Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PySpice_circuit_example1.html">Example 1: RESISTIVE DIVIDER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PySpice_circuit_example2.html">Example 2: DIODE CIRCUIT</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Students effort</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../DiodeCharacteristicCurve.html">Diode Characteristic Curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../SchemdrawGuide1.html">Schemdraw Guide book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../independentcurrentandvoltagesources/miniProject.html">Independent current/voltage sources</a></li>



<li class="toctree-l1"><a class="reference internal" href="../AveragePower.html"><strong>Average power</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../PassiveComponents/Passive%20Components.html">Passive Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Linearization/LinearizationProject.html"><strong>Linear approximation</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Battery Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sensitivity_analysis1.html">Sensitivity analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WhatBias/bias1.html"><strong>Bias:</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../Supermesh/Supermesh.html">Supermesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KVL_and_KCL/note%20book.html">KVL &amp; KCL</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contact</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../Contact_Me.html">Contact Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../About_Me.html">About Me</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/h-sadoghi/dr-sadoghi.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/h-sadoghi/dr-sadoghi.git/issues/new?title=Issue%20on%20page%20%2FCircuit_Electronics/StudentEffort/batteryModel/battery_model.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/Circuit_Electronics/StudentEffort/batteryModel/battery_model.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Battery Models</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#history">History</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-battery-in-a-circuit">What is a battery in a circuit</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-to-use-battery-models">Why to use battery models</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rint-model">Rint model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explain-rint-model">Explain Rint model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rint-model-schem">Rint model schem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-rint-model">Analyze Rint model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculations-in-rint-model">Calculations in Rint model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#second-order-rc-model">Second order RC model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explain-second-order-rc-model">Explain second order RC model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#second-order-rc-model-schem">Second Order RC model schem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-second-order-rc-model">Analyze second order RC model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-in-second-order-rc-model">Calculation in second order RC model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources">Resources</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="battery-models">
<h1>Battery Models<a class="headerlink" href="#battery-models" title="Link to this heading">#</a></h1>
<p><strong>Author</strong>: Sepehr Jafarzadeh</p>
<p><strong>Ferdowsi University of Mashhad</strong></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<section id="history">
<h3>History<a class="headerlink" href="#history" title="Link to this heading">#</a></h3>
<p>Luigi Galvani was the first to realize that certain combination of metals placed into contact with each other can lead to an electric potential difference (or rather, they can make the legs of a dead frog twitch, which we now understand to be from the potential difference due to the metals). Galvani created the first “electrochemical cell”. Alessandro Volta then combined several of these cells together to form the “voltaic pile”, which is what we would now call a battery.</p>
<p><img alt="battery-cell" src="../../../_images/battery-cell.PNG" /></p>
<p><img alt="voltaic-pile" src="../../../_images/voltaic-pile.gif" /></p>
</section>
<section id="what-is-a-battery-in-a-circuit">
<h3>What is a battery in a circuit<a class="headerlink" href="#what-is-a-battery-in-a-circuit" title="Link to this heading">#</a></h3>
<p>Battery refer to a device that can provide a fixed potential difference between two terminals. However experiments shows that the potential difference across the terminals of a battery is not always equal to the potential difference across the ideal battery, and several factors can affect that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schemdraw</span>
<span class="kn">from</span> <span class="nn">schemdraw</span> <span class="kn">import</span> <span class="n">elements</span> <span class="k">as</span> <span class="n">e</span>

<span class="k">with</span> <span class="n">schemdraw</span><span class="o">.</span><span class="n">Drawing</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Gap</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_t$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">idot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">voltage_source</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">SourceV</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_s$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/ea1b7ae04fee7752e4628ea28f15dff879b8a0d469549d6206dd1335470cdb73.svg" src="../../../_images/ea1b7ae04fee7752e4628ea28f15dff879b8a0d469549d6206dd1335470cdb73.svg" />
</div>
</div>
</section>
<section id="why-to-use-battery-models">
<h3>Why to use battery models<a class="headerlink" href="#why-to-use-battery-models" title="Link to this heading">#</a></h3>
<p>We use battery models to be able to describe behaviors of batteries in different situations. There are several approaches to model a battery: ECM (Equivalent Circuit Model), Thermal models, Electrochemical models and so on. We will use ECM in this project. In this type of modeling we use electrical components (like resistor and capacitor) to describe batteries behavior.</p>
</section>
</section>
<section id="rint-model">
<h2>Rint model<a class="headerlink" href="#rint-model" title="Link to this heading">#</a></h2>
<section id="explain-rint-model">
<h3>Explain Rint model<a class="headerlink" href="#explain-rint-model" title="Link to this heading">#</a></h3>
<p>This model is the simplest and the most basic ECM. It consists of an ideal battery with open-circuit voltage <span class="math notranslate nohighlight">\(V_s\)</span> and constant internal resistance <span class="math notranslate nohighlight">\(R_{int}\)</span>. The internal resistance exists because the materials that make the battery will themselves have a resistance. For example, if electrons want to leave the zinc rod in the electric cell , they will lose some energy as they pass through the zinc. This means that if current increases electrons will lose more energy, so the battery will create little voltage.</p>
</section>
<section id="rint-model-schem">
<h3>Rint model schem<a class="headerlink" href="#rint-model-schem" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schemdraw</span>
<span class="kn">from</span> <span class="nn">schemdraw</span> <span class="kn">import</span> <span class="n">elements</span> <span class="k">as</span> <span class="n">e</span>

<span class="k">with</span> <span class="n">schemdraw</span><span class="o">.</span><span class="n">Drawing</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Gap</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_t$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">idot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">voltage_source</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">SourceV</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_s$&#39;</span><span class="p">)</span>
    <span class="n">internal_resistor</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{int}</span><span class="s1">$&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/37cbd5b4529f29f2f7c0a655be1c175c308f821a905028c496001af227a70812.svg" src="../../../_images/37cbd5b4529f29f2f7c0a655be1c175c308f821a905028c496001af227a70812.svg" />
</div>
</div>
</section>
<section id="analyze-rint-model">
<h3>Analyze Rint model<a class="headerlink" href="#analyze-rint-model" title="Link to this heading">#</a></h3>
<p>To see how the <span class="math notranslate nohighlight">\(R_{int}\)</span> affects the output voltage of the battery <span class="math notranslate nohighlight">\(V_t\)</span>, let’s do a dc sweep analysis on the circuit below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schemdraw</span>
<span class="kn">from</span> <span class="nn">schemdraw</span> <span class="kn">import</span> <span class="n">elements</span> <span class="k">as</span> <span class="n">e</span>

<span class="k">with</span> <span class="n">schemdraw</span><span class="o">.</span><span class="n">Drawing</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">line1</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
    <span class="n">e</span><span class="o">.</span><span class="n">SourcePulse</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;Current</span><span class="se">\n</span><span class="s1">Pulse&#39;</span><span class="p">)</span>    
    <span class="n">line2</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">idot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">line3</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>
    <span class="n">voltage_source</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">SourceV</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_s$&#39;</span><span class="p">)</span>
    <span class="n">internal_resistor</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{int}</span><span class="s1">$&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="nb">open</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">voltmeter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">MeterV</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">internal_resistor</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">down</span><span class="p">()</span>  <span class="c1"># Adding the voltmeter between the two dots</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">internal_resistor</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
    <span class="n">e</span><span class="o">.</span><span class="n">CurrentLabelInline</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">internal_resistor</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;I&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/8008ac831a7b47f76c4fcf9f45c65ceed6a19970348e97a931a83de394799f23.svg" src="../../../_images/8008ac831a7b47f76c4fcf9f45c65ceed6a19970348e97a931a83de394799f23.svg" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">PySpice.Spice.Netlist</span> <span class="kn">import</span> <span class="n">Circuit</span>
<span class="kn">from</span> <span class="nn">PySpice.Unit</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PySpice.Probe.Plot</span> <span class="kn">import</span> <span class="n">plt</span> <span class="k">as</span> <span class="n">spice_plot</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">(</span><span class="s1">&#39;Experiment on R_int model with variable current source&#39;</span><span class="p">)</span>

<span class="c1"># DC voltage source (Vs), internal resistance (R_int)</span>
<span class="n">V_s</span> <span class="o">=</span> <span class="mi">12</span> <span class="o">@</span> <span class="n">u_V</span>  <span class="c1"># Example DC source voltage of 10V</span>
<span class="n">R_int</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">@</span> <span class="n">u_Ohm</span>  <span class="c1"># Internal resistance of 50 Ohms</span>

<span class="n">circuit</span><span class="o">.</span><span class="n">V</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="n">circuit</span><span class="o">.</span><span class="n">gnd</span><span class="p">,</span> <span class="n">V_s</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">R_int</span><span class="p">)</span>


<span class="c1"># pulse current source (current_pulse)</span>
<span class="c1"># PULSE parameters: (I1, I2, Delay, Rise Time, Fall Time, Pulse Width, Period)</span>
<span class="n">current_pulse</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">I</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">circuit</span><span class="o">.</span><span class="n">gnd</span><span class="p">,</span> <span class="s1">&#39;PULSE(0 1A 0s 1ms 1ms 5ms 10ms)&#39;</span><span class="p">)</span>

<span class="c1"># Run transient analysis</span>
<span class="n">simulator</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">simulator</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">nominal_temperature</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">analysis</span> <span class="o">=</span> <span class="n">simulator</span><span class="o">.</span><span class="n">transient</span><span class="p">(</span><span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span> <span class="o">@</span> <span class="n">u_ms</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="mi">60</span> <span class="o">@</span> <span class="n">u_ms</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Plot Terminal Voltage over time</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;n2&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Terminal Voltage (V) vs Time (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [0.1 ms]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Voltage [V]&#39;</span><span class="p">)</span>

<span class="c1"># Plot Current through the current source over time</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">branches</span><span class="p">[</span><span class="s1">&#39;v1&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Current (A) vs Time (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [0.1 ms]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Current [A]&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning: i1: no DC value, transient time 0 value used
</pre></div>
</div>
<img alt="../../../_images/4f31e6273bb4e62e50397027285026d87ebe991d3161418fb6197c7fdb3e6b11.png" src="../../../_images/4f31e6273bb4e62e50397027285026d87ebe991d3161418fb6197c7fdb3e6b11.png" />
</div>
</div>
</section>
<section id="calculations-in-rint-model">
<h3>Calculations in Rint model<a class="headerlink" href="#calculations-in-rint-model" title="Link to this heading">#</a></h3>
<p>The voltage measured across the load resistor (<span class="math notranslate nohighlight">\( V_{(t)} \)</span>), can be calculated using Ohm’s Law.</p>
<p>Given the circuit:
(<span class="math notranslate nohighlight">\( V_s \)</span>): The open-circuit voltage of the battery (also called the Thevenin voltage).
(<span class="math notranslate nohighlight">\( R_{int} \)</span>): The internal resistance of the battery.
(<span class="math notranslate nohighlight">\( R_{load} \)</span>): The external load resistance.</p>
<p>The voltage across the load resistor <span class="math notranslate nohighlight">\( V_{(t)} \)</span> is calculated as:</p>
<p>\begin{align*}
V(t) &amp;= V_0 - R_{int} \times I(t) \
V_t &amp;= \frac{R_{load}}{R_{int} + R_{load}} \times V_s \
I(t) &amp;= \frac{V(t)}{R_{load}}
\end{align*}</p>
<p>The second equation shows that as the load resistance increases, the terminal voltage approaches <span class="math notranslate nohighlight">\( V_s \)</span>. Conversely, as the load resistance decreases,  <span class="math notranslate nohighlight">\( V_{(t)} \)</span> drops due to the voltage drop across <span class="math notranslate nohighlight">\( R_{int} \)</span>.</p>
<p>In this simulation, we observed how the terminal voltage <span class="math notranslate nohighlight">\( V_{(t)} \)</span> varies with different load resistances.</p>
</section>
</section>
<section id="second-order-rc-model">
<h2>Second order RC model<a class="headerlink" href="#second-order-rc-model" title="Link to this heading">#</a></h2>
<section id="explain-second-order-rc-model">
<h3>Explain second order RC model<a class="headerlink" href="#explain-second-order-rc-model" title="Link to this heading">#</a></h3>
<p>In this model we have two RC pairs, one with low <span class="math notranslate nohighlight">\(C \times R\)</span> (<span class="math notranslate nohighlight">\(C_s\)</span> and <span class="math notranslate nohighlight">\(R_s\)</span>, ‘s’ stands for short term) and another with high <span class="math notranslate nohighlight">\(C \times R\)</span> (<span class="math notranslate nohighlight">\(C_l\)</span> and <span class="math notranslate nohighlight">\(R_l\)</span>, ‘l’ stands for long term) beside the internal resistor. When the current flows through a battery changes, the response to this change is nonlinear. The short term RC pair generally represents the immediate dynamic response of the battery to load changes. And the long term RC pair represents the slower dynamics of the battery’s response, capturing the long-term effects and behaviors.</p>
</section>
<section id="second-order-rc-model-schem">
<h3>Second Order RC model schem<a class="headerlink" href="#second-order-rc-model-schem" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schemdraw</span>
<span class="kn">from</span> <span class="nn">jedi.inference.utils</span> <span class="kn">import</span> <span class="n">unite</span>
<span class="kn">from</span> <span class="nn">schemdraw</span> <span class="kn">import</span> <span class="n">elements</span> <span class="k">as</span> <span class="n">e</span>

<span class="k">with</span> <span class="n">schemdraw</span><span class="o">.</span><span class="n">Drawing</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Gap</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_t$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">idot</span><span class="p">()</span>
    <span class="n">voltage_source</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">SourceV</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_</span><span class="si">{OC}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">internal_resistor</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{int}</span><span class="s1">$&#39;</span><span class="p">)</span>

    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">capacitor_s</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Capacitor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$C_</span><span class="si">{s}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">resistor_s</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{s}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">capacitor_l</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Capacitor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$C_</span><span class="si">{l}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">resistor_l</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{l}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dot</span><span class="p">()</span>

    <span class="n">e</span><span class="o">.</span><span class="n">CurrentLabelInline</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">internal_resistor</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$I_</span><span class="si">{bat}</span><span class="s1">$&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/3058f03c2c12a7e146ca841bd5b95bf63c62d6d110fe6d6dab8d11707cf48343.svg" src="../../../_images/3058f03c2c12a7e146ca841bd5b95bf63c62d6d110fe6d6dab8d11707cf48343.svg" />
</div>
</div>
</section>
<section id="analyze-second-order-rc-model">
<h3>Analyze second order RC model<a class="headerlink" href="#analyze-second-order-rc-model" title="Link to this heading">#</a></h3>
<p>To see how the two parallel RC pairs affect the terminal voltage we will do a transient analysis on this circuit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schemdraw</span>
<span class="kn">from</span> <span class="nn">jedi.inference.utils</span> <span class="kn">import</span> <span class="n">unite</span>
<span class="kn">from</span> <span class="nn">schemdraw</span> <span class="kn">import</span> <span class="n">elements</span> <span class="k">as</span> <span class="n">e</span>

<span class="k">with</span> <span class="n">schemdraw</span><span class="o">.</span><span class="n">Drawing</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">line1</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
    <span class="n">voltage_source</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">SourceV</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$V_</span><span class="si">{OC}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">internal_resistor</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{int}</span><span class="s1">$&#39;</span><span class="p">)</span>

    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">capacitor_s</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Capacitor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$C_</span><span class="si">{s}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">resistor_s</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{s}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">capacitor_l</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Capacitor</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$C_</span><span class="si">{l}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">resistor_l</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">Resistor</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$R_</span><span class="si">{l}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">right</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">e</span><span class="o">.</span><span class="n">MeterV</span><span class="p">()</span><span class="o">.</span><span class="n">down</span><span class="p">()</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
    <span class="n">e</span><span class="o">.</span><span class="n">SourcePulse</span><span class="p">()</span><span class="o">.</span><span class="n">up</span><span class="p">()</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;Current</span><span class="se">\n</span><span class="s1">Pulse&#39;</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">Line</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">()</span>

    <span class="n">e</span><span class="o">.</span><span class="n">CurrentLabelInline</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">internal_resistor</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;$I_</span><span class="si">{bat}</span><span class="s1">$&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/c1aead6fc6497d232e1b291ae292bcf48ad2539a619d4c736ac80417141ec38b.svg" src="../../../_images/c1aead6fc6497d232e1b291ae292bcf48ad2539a619d4c736ac80417141ec38b.svg" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PySpice.Spice.Netlist</span> <span class="kn">import</span> <span class="n">Circuit</span>
<span class="kn">from</span> <span class="nn">PySpice.Unit</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PySpice.Probe.Plot</span> <span class="kn">import</span> <span class="n">plt</span>

<span class="c1"># Create the Thevenin-based RC model with a variable current source</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">Circuit</span><span class="p">(</span><span class="s1">&#39;Thevenin RC Model with Pulse Current Source&#39;</span><span class="p">)</span>

<span class="c1"># Define voltage source for open circuit voltage (Voc)</span>
<span class="n">V_oc</span> <span class="o">=</span> <span class="mi">12</span><span class="nd">@u_V</span>  <span class="c1"># Example battery voltage</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">V</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node1&#39;</span><span class="p">,</span> <span class="n">circuit</span><span class="o">.</span><span class="n">gnd</span><span class="p">,</span> <span class="n">V_oc</span><span class="p">)</span>

<span class="c1"># Internal resistance (R0)</span>
<span class="n">R_0</span> <span class="o">=</span> <span class="mf">0.1</span><span class="nd">@u_Ohm</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node1&#39;</span><span class="p">,</span> <span class="s1">&#39;node2&#39;</span><span class="p">,</span> <span class="n">R_0</span><span class="p">)</span>

<span class="c1"># RC pair: R1 and C1</span>
<span class="n">R_1</span> <span class="o">=</span> <span class="mf">0.2</span><span class="nd">@u_Ohm</span>
<span class="n">C_1</span> <span class="o">=</span> <span class="mi">15</span><span class="nd">@u_mF</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;node2&#39;</span><span class="p">,</span> <span class="s1">&#39;node3&#39;</span><span class="p">,</span> <span class="n">R_1</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node2&#39;</span><span class="p">,</span> <span class="s1">&#39;node3&#39;</span><span class="p">,</span> <span class="n">C_1</span><span class="p">)</span>

<span class="c1"># RC pair: R2 and C2</span>
<span class="n">R_2</span> <span class="o">=</span> <span class="mf">0.8</span><span class="nd">@u_Ohm</span>
<span class="n">C_2</span> <span class="o">=</span> <span class="mi">200</span><span class="nd">@u_mF</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;node3&#39;</span><span class="p">,</span> <span class="s1">&#39;node4&#39;</span><span class="p">,</span> <span class="n">R_2</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;node3&#39;</span><span class="p">,</span> <span class="s1">&#39;node4&#39;</span><span class="p">,</span> <span class="n">C_2</span><span class="p">)</span>

<span class="c1"># Add an independent current source with a PULSE signal</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">I</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node4&#39;</span><span class="p">,</span> <span class="n">circuit</span><span class="o">.</span><span class="n">gnd</span><span class="p">,</span> <span class="s1">&#39;PULSE(0A 5A 1ms 1ms 1ms 10ms 20ms)&#39;</span><span class="p">)</span>

<span class="c1"># Run the transient analysis for 50 ms</span>
<span class="n">simulator</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">simulator</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">nominal_temperature</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">analysis</span> <span class="o">=</span> <span class="n">simulator</span><span class="o">.</span><span class="n">transient</span><span class="p">(</span><span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="nd">@u_ms</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="mi">60</span><span class="nd">@u_ms</span><span class="p">)</span>

<span class="c1"># Plot the terminal voltage (node1 to ground) and current over time</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Voltage at node1 (battery terminal)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;node3&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Terminal Voltage (V) vs Time (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [s]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Voltage [V]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="c1"># Access the current probe for &#39;I1&#39; (the current source)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">branches</span><span class="p">[</span><span class="s1">&#39;v1&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Current (A) vs Time (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [s]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Current [A]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning: i1: no DC value, transient time 0 value used
</pre></div>
</div>
<img alt="../../../_images/a3795258466154ead98d323f2ee22a5d11ccb17790be6416a940405bd4c75682.png" src="../../../_images/a3795258466154ead98d323f2ee22a5d11ccb17790be6416a940405bd4c75682.png" />
</div>
</div>
</section>
<section id="calculation-in-second-order-rc-model">
<h3>Calculation in second order RC model<a class="headerlink" href="#calculation-in-second-order-rc-model" title="Link to this heading">#</a></h3>
<p>Applying Kirchhoff equations to this circuit:</p>
<p>\begin{align*}
V_{C_s}(t+1) &amp;= V_{C_s}(t) \times e^{-\frac{T}{C_s \times R_s}} + R_s \times I_{Batt}(t) \times \left(1 - e^{-\frac{T}{C_s \times R_s}}\right) \
V_{C_l}(t+1) &amp;= V_{C_l}(t) \times e^{-\frac{T}{C_l \times R_l}} + R_l \times I_{Batt}(t) \times \left(1 - e^{-\frac{T}{C_l \times R_l}}\right) \
V_{Batt} &amp;= V_{OC}(SOC) - V_{C_l}(t) - V_{C_s}(t) - R_{series} \times I_{Batt}
\end{align*}</p>
<p>where <span class="math notranslate nohighlight">\(T\)</span> represents the timestep and <span class="math notranslate nohighlight">\(t\)</span> represents the simulation time. <span class="math notranslate nohighlight">\(V_{C_L}\)</span>
and <span class="math notranslate nohighlight">\(V_{C_s}\)</span> are the transient response with long- and short-time duration (voltage across <span class="math notranslate nohighlight">\(C_l\)</span> and <span class="math notranslate nohighlight">\(C_s\)</span>
)</p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>The purpose of this homework was to provide a deeper understanding of battery behavior, particularly how challenging it can be to model their dynamic characteristics with complete accuracy. As we’ve seen, predicting a battery’s performance under varying conditions is complex. However, researchers are continuously developing methods, like equivalent circuit models (ECM), to approximate these behaviors more closely.</p>
<p>It’s important to note that no single modeling approach can capture every aspect of battery dynamics perfectly. For more accurate results, it is often necessary to combine multiple modeling techniques.</p>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://www.mdpi.com/1996-1073/14/11/3209#B12-energies-14-03209">https://www.mdpi.com/1996-1073/14/11/3209#B12-energies-14-03209</a></p>
<p>“ <a class="reference external" href="https://phys.libretexts.org/Bookshelves/University_Physics/Book%3A_Introductory_Physics_-">https://phys.libretexts.org/Bookshelves/University_Physics/Book%3A_Introductory_Physics_-</a><em>Building_Models_to_Describe_Our_World</em>(Martin_Neary_Rinaldo_and_Woodman)/20%3A_Electric_Circuits/20.01%3A_Batteries_and_Simple_Circuits “</p>
<p><a class="reference external" href="https://cpb.iphy.ac.cn/article/2020/2032/cpb_29_6_068201.html">https://cpb.iphy.ac.cn/article/2020/2032/cpb_29_6_068201.html</a></p>
<p><a class="github reference external" href="https://github.com/PySpice-org/PySpice">PySpice-org/PySpice</a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Circuit_Electronics\StudentEffort\batteryModel"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../Linearization/LinearizationProject.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Linear approximation</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="../Sensitivity_analysis1.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Sensitivity analysis</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#history">History</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-battery-in-a-circuit">What is a battery in a circuit</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-to-use-battery-models">Why to use battery models</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rint-model">Rint model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explain-rint-model">Explain Rint model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rint-model-schem">Rint model schem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-rint-model">Analyze Rint model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculations-in-rint-model">Calculations in Rint model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#second-order-rc-model">Second order RC model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explain-second-order-rc-model">Explain second order RC model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#second-order-rc-model-schem">Second Order RC model schem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-second-order-rc-model">Analyze second order RC model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculation-in-second-order-rc-model">Calculation in second order RC model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources">Resources</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dr.Hadi Sadoghi Yazdi
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024 Pattern Recognition Lab.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>